{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
    <link rel="stylesheet" href="{% static 'Css/almacen.css' %}">
    <link rel="stylesheet" href="{% static 'Css/inventario_modal.css' %}">
    <link rel="stylesheet" href="{% static 'Css/historial_modal.css' %}">
    <link rel="stylesheet" href="{% static 'Css/formularios.css' %}">
    <link rel="stylesheet" href="{% static 'Css/lotes.css' %}">
</head>
<body>
    <div id="almacen-root" class="dashboard-container" data-crucero-id="{{ crucero.id }}">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo" onclick="toggleSidebar()" style="cursor: pointer;">
                    <!--<img src="src/storage/vectors/browser-svgrepo-com.svg" alt="Logo" class="logo-icon">-->
                    <span class="logo-text">Panel de Control</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="/" class="nav-link">
                            <span class="nav-text">Inicio</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'gestion_crucero' crucero.id %}" class="nav-link">
                            <span class="nav-text">Gestión Crucero</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'bares' crucero.id %}" class="nav-link">
                            <span class="nav-text">Bares</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'entretenimiento:entretenimiento' crucero.id %}" class="nav-link">
                            <span class="nav-text">Entretenimiento</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-text">Ventas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-text">Reservas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-text">Restaurante</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-text">Compras</span>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a href="{% url 'vista_almacen' crucero.id %}" class="nav-link">
                            <span class="nav-text">Almacen</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-text">Recursos Humanos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-text">Servicios Medicos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span class="nav-text">Mantenimiento</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <!-- Footer del sidebar -->
            </div>
        </aside>

        <!-- Overlay para móviles -->
        <div class="sidebar-overlay" onclick="closeMobileSidebar()"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <div class="header-left">
                    <button class="mobile-menu-toggle" onclick="toggleMobileSidebar()">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <h1 class="page-title">Almacén</h1>
                    <p class="page-subtitle">Gestiona entradas, salidas e inventario del almacén</p>
                </div>
                <div class="header-actions" style="display:flex;align-items:center;gap:8px;">
                </div>
            </header>

            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- Tarjetas resumen superiores -->
                <div class="quick-cards">
                    <div class="quick-card" id="inventario-card">
                        <div class="quick-card__icon" aria-hidden="true">I</div>
                        <div class="quick-card__body">
                            <h3 class="quick-card__title">Inventario</h3>
                            <p class="quick-card__text">Maneja el inventario general</p>
                        </div>
                    </div>
                    <div class="quick-card" id="entrada-card">
                        <div class="quick-card__icon" aria-hidden="true">H</div>
                        <div class="quick-card__body">
                            <h3 class="quick-card__title">Entrada de Lote</h3>
                            <p class="quick-card__text">Registrar manualmente la entrada de un lote</p>
                        </div>
                    </div>
                    <div class="quick-card" id="salida-card">
                        <div class="quick-card__icon" aria-hidden="true">H</div>
                        <div class="quick-card__body">
                            <h3 class="quick-card__title">Salida de producto</h3>
                            <p class="quick-card__text">Registrar manualmente la salida de un producto</p>
                        </div>
                    </div>
                    <div class="quick-card" id="historial-card">
                        <div class="quick-card__icon" aria-hidden="true">I</div>
                        <div class="quick-card__body">
                            <h3 class="quick-card__title">Historial de Movimientos</h3>
                            <p class="quick-card__text">Ver historial de entradas y salidas</p>
                        </div>
                    </div>
                    <div class="quick-card" id="reportes-card">
                        <div class="quick-card__icon" aria-hidden="true">H</div>
                        <div class="quick-card__body">
                            <h3 class="quick-card__title">Reportes de Mermas</h3>
                            <p class="quick-card__text">Reportar algún daño a productos</p>
                        </div>
                    </div>
                </div> <!-- quick-cards -->
                <div id="contenedor-ordenes-compra" class="inventory-container no-shadow" style="margin-top:10px;">
                    <h3 class="inventario-title" style="margin:0 0 14px 0; font-size:1.15rem; font-weight:600;">Lotes Pendientes por Registrar</h3>
                    <div class="table-container" id="tabla-ordenes-compra-wrapper"></div>
                </div>
            </div> <!-- dashboard-content -->
        </main>
    </div> <!-- dashboard-container -->

    <!-- MODALES OCULTAS -->
    
    {% include 'Modals/inventario.html' %}
    {% include 'Modals/historial.html' %}
    {% include 'Modals/creacion_producto.html' %}
    {% include 'Modals/entrada_lote.html' %}
    {% include 'Modals/salida_producto.html' %}
    {% include 'Modals/registro_merma.html' %}
    {% include 'Modals/lotes_de_producto.html' %}


    <script src="{% static 'Js/sidebar.js' %}"></script>
    <script src="{% static 'Js/inventario.js' %}"></script>
    <script src="{% static 'Js/historial.js' %}"></script>
    <script src="{% static 'Js/forms_manager.js' %}"></script>
    <script src="{% static 'Js/lotes.js' %}"></script>
    <script src="{% static 'Js/modals_manager.js' %}"></script>
    <script src="{% static 'Js/busqueda_producto.js' %}"></script>
    <script src="{% static 'Js/init_almacen.js' %}"></script>
</body>
</html>
